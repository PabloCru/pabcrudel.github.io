---
import Copyright from "./Copyright.astro";

interface ISocialMediaLink {
  url: string;
  name: string;
  title: string;
}

type RepositoryLink = string;

const socialMediaLinkList: ISocialMediaLink[] = [
  {
    name: "GitHub",
    title: "Overview of my GitHub Profile",
    url: "https://github.com/pablocru",
  },
  {
    name: "LinkedIn",
    title: "Take a look at my LinkedIn profile",
    url: "https://www.linkedin.com/in/pablocrudelhom/",
  },
];

const repositoryLink: RepositoryLink = "https://github.com/pablocru/pablocru.github.io";
---

<footer>
  <div id="footer-main-content">
    <section id="social-media-links">
      <h3>Social media links</h3>
      <nav>
        <ul>
          {
            socialMediaLinkList.map(({ name, title, url }) => (
              <li>
                <a href={url} title={title}>
                  {name}
                </a>
              </li>
            ))
          }
        </ul>
      </nav>
    </section>

    <section id="report-issue">
      <h3>Report an Issue</h3>
      <p>
        If you found a bug or have a suggestion, please
        <a
          href={repositoryLink + "/issues"}
          title="Suggest me a change by creating an issue">open an issue on GitHub</a
        >.
      </p>
    </section>
  </div>

  <aside id="copyright">
    <Copyright />
    <p>
      Source code is licensed under <a
        href={repositoryLink + "/blob/main/LICENSE"}
        title="Take a look at the permissions, limitations and conditions">MIT License</a
      >.
    </p>

    {
      /*
        I use https://chooser-beta.creativecommons.org/ as a license chooser and they
        bring to me this code
      */
    }
    {/* @ts-expect-error: ignore `xmlns:*` custom attributes */}
    <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
      <span property="dct:title">This site content</span> is licensed under <a
        href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1"
        target="_blank"
        rel="license noopener noreferrer"
        style="display:inline-block;"
        >CC BY 4.0<img
          style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
          src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"
        /><img
          style="height:22px!important;margin-left:3px;vertical-align:text-bottom;"
          src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"
        /></a
      >
    </p>
  </aside>
</footer>

<style>
  footer {
    /* Leave space depending on the font size */
    margin-top: 2em;
    padding: 0 0.5em;
  }

  footer > * {
    /* Center content like the body text */
    max-width: var(--max-width);
    margin: auto;
  }

  /* Center Copyright section */
  aside#copyright {
    text-align: center;
  }

  /* Display a line on top of Copyright section which color depends on the
  preferred color schema. Also specify margin to separate it. */
  aside#copyright::before {
    content: "";
    display: block;
    border-top: 1px solid;
    margin: 2em 0 1em;
  }

  @supports (display: flex) and (position: absolute) {
    footer {
      /* Add a subtle shadow to visually separate the footer */
      box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.1);

      /* Expand footer on both sides to display the shadow correctly */
      position: absolute;
      left: 0;
      right: 0;
    }

    /* Create a horizontal flexbox that wraps its children when they don't fit */
    div#footer-main-content {
      display: flex;
      flex-wrap: wrap;
    }

    /* Each child will wrap to a new line if the available space is too small */
    div#footer-main-content > * {
      flex: 1;
      min-width: 350px;
    }
  }
</style>
